<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <template id="report_package_barcode_inherited" inherit_id="stock.report_package_barcode">
            <xpath expr="//t/t[3]/div/div[2]" position="replace">
                <!--                <t t-set="encoded_url" t-value="o.get_package_encoded_url(o.id)"/>-->
                <!--                <img t-att-src="'/report/barcode/?type=QR&amp;value=%s' % (encoded_url)"-->
                <!--                     alt="Barcode" style="width:100px;height:100px"/>-->
            </xpath>
            <xpath expr="//div[hasclass('oe_structure')]" position="after">
                <center>
                    <h3>
                        <b>
                            <t t-esc="dict(o._fields['package_type'].selection).get(o.package_type)"/>
                        </b>
                    </h3>
                </center>
                <table style="width:100%" class="table-borderless">
                    <tr>
                        <td style="border-top:1px solid gray;padding: 5px;" align="center">
                            <b>Effective date</b>
                        </td>
                        <td style="text-align: center;border-top:1px solid gray;">
                            <t t-esc="o.sale_order_id.effective_date"
                               t-options="{'widget': 'date', 'format': 'MM/dd/yyyy'}"/>
                        </td>
                    </tr>

                    <tr>
                        <td style="border-top:1px solid gray;" align="center">
                            <b>Sale order</b>
                        </td>
                        <td style="border-top:1px solid gray;" align="center">
                        </td>
                    </tr>

                    <tr>
                        <td style="font-size:16px;width:80%;text-align:center;vertical-align:middle">
                                <span style="font-size: xx-large;" t-esc="o.sale_order_id.name"/>
                        </td>
                        <t t-set="so_encoded_url"
                           t-value="o.get_package_encoded_url(o.sale_order_id,o.sale_order_id._name)"/>
                        <td style="text-align: center;width:20%;padding-bottom:10px;">
                            <img t-att-src="'/report/barcode/?barcode_type=QR&amp;value=%s&amp;width=%s&amp;height=%s' % (so_encoded_url,60,60)"
                                 alt="Barcode"/>
                        </td>
                    </tr>


                    <tr>
                        <td style="border-top:1px solid gray;" align="center">
                            <b>Picking Barcode</b>
                        </td>
                        <td style="border-top:1px solid gray;" align="center">
                        </td>
                    </tr>
                    <tr>
                        <td style="font-size:16px;width:80%;text-align:center;vertical-align:middle">
                            <span style="font-size: xx-large;" t-esc="o.picking_id.name"/>
                        </td>
                        <t t-set="picking_encoded_url"
                           t-value="o.picking_id.name"/>

                        <td style="text-align: center;width:20%;padding-bottom:10px;">
                            <img t-att-src="'/report/barcode/?barcode_type=QR&amp;value=%s&amp;width=%s&amp;height=%s' % (picking_encoded_url,60,60)"
                                 alt="Barcode"/>
                        </td>
                    </tr>
                    <tr>
                        <td style="border-top:1px solid gray;" align="center">
                                <b>Package Barcode</b>
                        </td>
                        <td style="border-top:1px solid gray;" align="center">
                        </td>
                    </tr>
                    <tr>
                        <td style="font-size:16px;text-align:center;">
                            <span style="font-size: xx-large;" t-esc="o.name"/>
                        </td>
                        <t t-set="setu_package_url" t-value="'/setu_package/%s'%(o.id)"/>
                        <t t-set="package_encoded_url"
                           t-value="o.get_package_encoded_url(o,o._name,setu_package_url)"/>
                        <td style="text-align: center;width:20%;padding-bottom:10px;">
                            <img t-att-src="'/report/barcode/?barcode_type=QR&amp;value=%s&amp;width=%s&amp;height=%s' % (package_encoded_url,60,60)"
                                 alt="Barcode"/>
                        </td>
                    </tr>
                    <tr>
                        <td style="border-top:1px solid gray;" align="center">
                            <b>Customer</b>
                        </td>
                        <td style="border-top:1px solid gray;" align="center">
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align:center;vertical-align:middle;font-size:16px;">
                            <span t-esc="o.picking_id.partner_id.display_name"/>
                        </td>
                    </tr>
                </table>
                <p style="page-break-after: always;"/>
                <!--                </t>-->
                <!--                <t t-else="">-->
                <!--                    <tr>-->
                <!--                        <td>-->
                <!--                            <t t-esc="Picking"/>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <img t-att-src="'/report/barcode/?type=QR&amp;value=%s&amp;width=%s&amp;height=%s' % (o.picking_id.name, 100, 100)"-->
                <!--                                 alt="Barcode"/>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                </t>-->
            </xpath>
            <xpath expr="//th[@name='th_quantity']/../../.." position="replace">
            </xpath>
            <xpath expr="//div[@class='row mt32 mb32']" position="replace">
            </xpath>
            <xpath expr="//table[@class='w-100 table table-sm table-striped']" position="replace"/>
        </template>

    </data>
</odoo>