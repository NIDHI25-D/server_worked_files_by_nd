<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="view_compatibility_form_inherit" model="ir.ui.view">
        <field name="name">Compatibilidades Custom</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="stock.product_template_form_view_procurement_button"/>
        <field name="arch" type="xml">
            <field name="default_code" position="after">
                <field name="compatible_product_ids" widget="many2many_tags" options="{'color_field': 'color'}"
                       domain="[('id', '!=', context.get('active_id'))]"/>
            </field>
        </field>
    </record>

    <record id="view_compatible_form_inherit" model="ir.ui.view">
        <field name="name">Productos Compatibles</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="stock.product_template_form_view_procurement_button"/>
        <field name="arch" type="xml">
            <field name="default_code" position="after">
                <field name="compatible_ids" widget="many2many_tags" options="{'color_field': 'color'}"
                       domain="[('id', '!=', context.get('active_id'))]"/>
            </field>
        </field>
    </record>

    <record model="ir.ui.view" id="marvel_product_template_only_form_view_inherit">
        <field name="name">marvel.product.product_template_only_form_view.inherit</field>
        <field name="inherit_id" ref="product.product_template_only_form_view"/>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='default_code']" position="after">
                <field name="compatible_ids" widget="many2many_tags"/>
            </xpath>
            <xpath expr="//field[@name='barcode']" position="after">
                <field name="temporary_id" required="True" options="{'no_create': True, 'no_open': True}"/>
                <field name="is_on_catalogue"/>
                <field name="discontinued"/>
                <field name="product_type_marvelsa"/>
                <field name="category_manager"/>
                <field name="origin_id" options="{'no_create':True}"/>
            </xpath>
            <xpath expr="//field[@name='barcode']" position="attributes">
                <attribute name="required">product_variant_count &lt;= 1</attribute>
                <attribute name="invisible">product_variant_count > 1</attribute>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="marvel_product_template_form_view_inherit">
        <field name="name">marvel.product_template_form_view_inherit</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <xpath expr="//div[@name='volume']" position="after">
                <label for="length"/>
                <div class="o_row">
                    <field name="length" string="Length"/>
                    <span>m</span>
                </div>
                <label for="whidth"/>
                <div class="o_row">
                    <field name="whidth" string="Whidth"/>
                    <span>m</span>
                </div>
                <label for="high"/>
                <div class="o_row">
                    <field name="high" string="High"/>
                    <span>m</span>
                </div>
            </xpath>
            <xpath expr="//field[@name='list_price']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="product_template_account_view">
        <field name="name">product.template.account.view</field>
        <field name="inherit_id" ref="account.product_template_form_view"/>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='taxes_id']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="product_template_vendor_tax_view">
        <field name="name">product.template.vendor.tax.view</field>
        <field name="inherit_id" ref="account.product_template_form_view"/>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='supplier_taxes_id']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
        </field>
    </record>

    <!--TASK : Note on Re-condicionados and Desarmeproducts  { https://app.clickup.com/t/86drvbye5 }   -->
    <record model="ir.ui.view" id="website_descriptive_products">
        <field name="name">website.descriptive.products</field>
        <field name="inherit_id" ref="website_sale.product_template_form_view"/>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='website_id']" position="after">
                <field name="descriptive_website_products" widget="html"/>
            </xpath>
        </field>
    </record>

</odoo>